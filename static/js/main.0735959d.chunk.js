(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{19:function(t,e,a){},21:function(t,e,a){},23:function(t,e,a){"use strict";a.r(e);var n=a(2),s=a.n(n),c=a(9),r=a.n(c),i=(a(19),a(8)),o=a(3),d=a.n(o),l=a(4),h=a(10),j=a(11),u=a(14),p=a(13),b=(a(21),a(5)),x=a(7),O=a(12),m=a.p+"static/media/day.2058cc9e.png",f=a.p+"static/media/night.351c7fd1.png",g=a(1),v=function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(){var t;return Object(h.a)(this,a),(t=e.call(this)).state={url:"",data:[],loading:!1},t}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var t=Object(l.a)(d.a.mark((function t(){var e,a,n=this;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=function(t){console.warn("ERROR(".concat(t.code,"): ").concat(t.message))},e=function(t){console.log(t.coords.latitude,t.coords.longitude);var e="https://api.openweathermap.org/data/2.5/weather?lat=".concat(t.coords.latitude,"&lon=").concat(t.coords.longitude,"&units=metric&appid=a2d55cddcf1d8175ebb4b92368c97ffe");n.setState({url:e,loading:!1})},navigator.geolocation&&navigator.geolocation.getCurrentPosition(e,a);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(l.a)(d.a.mark((function t(e,a){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===this.state.url||this.state.url===a.url){t.next=10;break}return t.next=3,fetch(this.state.url);case 3:return n=t.sent,t.next=6,n.json();case 6:s=t.sent,console.log(s),this.state.data.pop(0),this.setState({data:[].concat(Object(i.a)(this.state.data),[s])});case 10:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=function(){var e=Object(l.a)(d.a.mark((function e(){var a,n,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(a=prompt("Location: "))){e.next=3;break}return e.abrupt("return");case 3:return n="https://api.openweathermap.org/data/2.5/weather?q=".concat(a,"&units=metric&appid=a2d55cddcf1d8175ebb4b92368c97ffe"),t.setState({url:n,loading:!1}),e.next=7,fetch(t.state.url);case 7:return s=e.sent,e.next=10,s.json();case 10:c=e.sent,t.state.data.pop(0),t.setState({data:[].concat(Object(i.a)(t.state.data),[c])});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(t){return new Date(1e3*t.unix).toLocaleString().slice(-10,-6)},n=new Date,s=n.getHours(),c=s>6&&s<20;return 0===this.state.data.length?(console.log(this.state.data.length),Object(g.jsx)("div",{className:"loading",children:"Loading ..."})):Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)("div",{className:"WeatherCard",style:{background:c?"url("+m+")":"url("+f+")",color:c?"":"white"},children:[Object(g.jsxs)("div",{className:"WeatherCard-topBar",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:Object(g.jsx)(b.a,{})}),Object(g.jsxs)("span",{children:[this.state.data[0].clouds.all,"%"]})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:Object(g.jsx)(b.c,{})}),Object(g.jsxs)("span",{children:[this.state.data[0].wind.speed,"km/h"]})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:Object(g.jsx)(b.b,{})}),Object(g.jsxs)("span",{children:[this.state.data[0].main.humidity,"%"]})]})]}),Object(g.jsxs)("div",{className:"WeatherCard-mainContent",children:[Object(g.jsxs)("div",{className:"WeatherCard-mainContent-details",children:[Object(g.jsxs)("h2",{children:[this.state.data[0].name,", ",this.state.data[0].sys.country]}),Object(g.jsx)("p",{children:new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(n)+", "+n.toLocaleString("default",{month:"long"})+" "+n.getDate()+", "+n.getFullYear()})]}),Object(g.jsx)("div",{className:"temp",children:Object(g.jsxs)("h1",{children:[Math.floor(this.state.data[0].main.temp),Object(g.jsx)("sup",{children:"\xb0C"})]})}),Object(g.jsx)("div",{className:"dotted-line"}),Object(g.jsxs)("div",{className:"otherInfo",children:[Object(g.jsxs)("div",{className:"weatherIconTag",children:[Object(g.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(this.state.data[0].weather[0].icon,"@2x.png"),alt:""}),Object(g.jsx)("h3",{children:this.state.data[0].weather[0].main})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{className:"sunRiseSet",children:[Object(g.jsxs)("h3",{children:[Object(g.jsx)(x.a,{})," ",Object(g.jsx)(a,{unix:this.state.data[0].sys.sunrise})," AM"]}),Object(g.jsx)("h3",{children:"|"}),Object(g.jsxs)("h3",{children:[Object(g.jsx)(x.b,{})," ",Object(g.jsx)(a,{unix:this.state.data[0].sys.sunset})," PM"]})]})]})]}),Object(g.jsx)(O.a,{className:"updateBtn",onClick:e})]})})}}]),a}(n.Component),w=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,24)).then((function(e){var a=e.getCLS,n=e.getFID,s=e.getFCP,c=e.getLCP,r=e.getTTFB;a(t),n(t),s(t),c(t),r(t)}))};r.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(v,{})}),document.getElementById("root")),w()}},[[23,1,2]]]);
//# sourceMappingURL=main.0735959d.chunk.js.map